/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";var e=t.document,n=t.URL||t.webkitURL||t,r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o=!t.externalHost&&"download"in r,i=t.webkitRequestFileSystem,a=t.requestFileSystem||i||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},s="application/octet-stream",u=0,d=[],l=function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var o=t["on"+e[r]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){c(t)}}},f=function(n,c){var f,w,v,p=this,h=n.type,m=!1,y=function(){var e=(t.URL||t.webkitURL||t).createObjectURL(n);return d.push(e),e},E=function(){l(p,"writestart progress write writeend".split(" "))},R=function(){!m&&f||(f=y()),w?w.location.href=f:window.open(f,"_blank"),p.readyState=p.DONE,E()},O=function(t){return function(){if(p.readyState!==p.DONE)return t.apply(this,arguments)}},S={create:!0,exclusive:!1};if(p.readyState=p.INIT,c||(c="download"),o){f=y(),e=t.document,(r=e.createElementNS("http://www.w3.org/1999/xhtml","a")).href=f,r.download=c;var b=e.createEvent("MouseEvents");return b.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(b),p.readyState=p.DONE,void E()}t.chrome&&h&&h!==s&&(v=n.slice||n.webkitSlice,n=v.call(n,0,n.size,s),m=!0),i&&"download"!==c&&(c+=".download"),(h===s||i)&&(w=t),a?(u+=n.size,a(t.TEMPORARY,u,O((function(t){t.root.getDirectory("saved",S,O((function(t){var e=function(){t.getFile(c,S,O((function(t){t.createWriter(O((function(e){e.onwriteend=function(e){w.location.href=t.toURL(),d.push(t),p.readyState=p.DONE,l(p,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&R()},"writestart progress write abort".split(" ").forEach((function(t){e["on"+t]=p["on"+t]})),e.write(n),p.abort=function(){e.abort(),p.readyState=p.DONE},p.readyState=p.WRITING})),R)})),R)};t.getFile(c,{create:!1},O((function(t){t.remove(),e()})),O((function(t){t.code===t.NOT_FOUND_ERR?e():R()})))})),R)})),R)):R()},w=f.prototype;return w.abort=function(){var t=this;t.readyState=t.DONE,l(t,"abort")},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,t.addEventListener("unload",(function(){for(var t=d.length;t--;){var e=d[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}d.length=0}),!1),function(t,e){return new f(t,e)}}(this.self||this.window||this.content);"undefined"!=typeof module&&(module.exports=saveAs);